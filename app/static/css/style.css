/* ─────────────────────────────────────────────────────────────────────────── */
/* OpenClaw Academy — Dark Theme Stylesheet                                    */
/* ─────────────────────────────────────────────────────────────────────────── */

:root {
  --bg: #0f0f1a;
  --bg-card: #1a1a2e;
  --bg-elevated: #16213e;
  --bg-sidebar: #12121e;
  --accent: #e94560;
  --accent-hover: #c73552;
  --accent-dim: rgba(233, 69, 96, 0.15);
  --accent-success: #22c55e;
  --accent-warning: #f59e0b;
  --accent-info: #3b82f6;
  --text: #e0e0e0;
  --text-muted: #888;
  --text-dim: #555;
  --border: #2a2a3e;
  --border-bright: #3a3a5e;
  --radius: 8px;
  --radius-lg: 12px;
  --font-mono: 'Fira Code', 'Cascadia Code', 'JetBrains Mono', monospace;
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;
  --sidebar-width: 240px;
  --topnav-height: 52px;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
  height: 100%;
  font-family: var(--font-sans);
  background: var(--bg);
  color: var(--text);
  font-size: 16px;
  line-height: 1.6;
}

a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }

/* ─── Top Nav ─────────────────────────────────────────────────────────────── */

.topnav {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--topnav-height);
  background: var(--bg-sidebar);
  border-bottom: 1px solid var(--border);
  z-index: 100;
}

.topnav-inner {
  max-width: 100%;
  height: 100%;
  padding: 0 1.5rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.brand {
  display: flex; align-items: center; gap: 0.5rem;
  text-decoration: none; color: var(--text);
  font-weight: 700; font-size: 1.1rem;
}

.brand:hover { text-decoration: none; }
.brand-emoji { font-size: 1.4rem; }
.brand-name { color: var(--accent); }

.nav-link { color: var(--text-muted); font-size: 0.875rem; }
.nav-link:hover { color: var(--text); }

/* ─── Layout ──────────────────────────────────────────────────────────────── */

.layout {
  display: flex;
  min-height: 100vh;
  padding-top: var(--topnav-height);
}

/* ─── Sidebar ─────────────────────────────────────────────────────────────── */

.sidebar {
  width: var(--sidebar-width);
  background: var(--bg-sidebar);
  border-right: 1px solid var(--border);
  position: fixed;
  top: var(--topnav-height);
  bottom: 0;
  left: 0;
  overflow-y: auto;
  padding: 1rem 0;
  flex-shrink: 0;
}

.sidebar::-webkit-scrollbar { width: 4px; }
.sidebar::-webkit-scrollbar-thumb { background: var(--border-bright); border-radius: 2px; }

.sidebar-section { padding: 0 0.75rem; }
.sidebar-title {
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--text-dim);
  padding: 0.5rem 0.5rem 0.75rem;
}

.sidebar-module { margin-bottom: 2px; }
.sidebar-module-link {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.45rem 0.6rem;
  border-radius: var(--radius);
  color: var(--text-muted);
  font-size: 0.8rem;
  text-decoration: none;
  transition: background 0.15s, color 0.15s;
}

.sidebar-module-link:hover {
  background: var(--bg-elevated);
  color: var(--text);
  text-decoration: none;
}

.sidebar-module.active .sidebar-module-link {
  background: var(--accent-dim);
  color: var(--accent);
}

.sidebar-icon { font-size: 0.9rem; flex-shrink: 0; }
.sidebar-module-name { flex: 1; }

.sidebar-badge {
  font-size: 0.65rem;
  background: var(--bg-elevated);
  color: var(--text-dim);
  padding: 1px 5px;
  border-radius: 10px;
  flex-shrink: 0;
}
.sidebar-badge.badge-done {
  background: rgba(34, 197, 94, 0.2);
  color: var(--accent-success);
}

/* ─── Main Content ────────────────────────────────────────────────────────── */

.main-content {
  flex: 1;
  margin-left: var(--sidebar-width);
  padding: 2rem 2.5rem;
  max-width: 900px;
}

/* ─── Hero ────────────────────────────────────────────────────────────────── */

.hero {
  text-align: center;
  padding: 3rem 0 2rem;
}

.hero-emoji { font-size: 3.5rem; margin-bottom: 0.5rem; }
.hero-title { font-size: 2.5rem; font-weight: 800; color: var(--text); }
.hero-subtitle { color: var(--text-muted); font-size: 1.15rem; margin-top: 0.5rem; }
.hero-desc { color: var(--text-dim); font-size: 0.95rem; margin-top: 0.25rem; }

.overall-progress {
  margin: 2rem auto;
  max-width: 500px;
  text-align: left;
}

.progress-label {
  display: flex;
  justify-content: space-between;
  font-size: 0.85rem;
  color: var(--text-muted);
  margin-bottom: 0.4rem;
}

.progress-count { color: var(--text); font-weight: 600; }

.progress-bar-wrap {
  height: 8px;
  background: var(--bg-elevated);
  border-radius: 99px;
  overflow: hidden;
}

.progress-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), #f59e0b);
  border-radius: 99px;
  transition: width 0.4s ease;
}

.progress-pct { font-size: 0.8rem; color: var(--accent); text-align: right; margin-top: 0.3rem; }

/* ─── Module Grid ─────────────────────────────────────────────────────────── */

.module-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 1rem;
  margin-top: 1.5rem;
}

.module-card {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 1.25rem;
  text-decoration: none;
  color: var(--text);
  transition: border-color 0.2s, transform 0.1s;
}

.module-card:hover {
  border-color: var(--border-bright);
  transform: translateY(-2px);
  text-decoration: none;
  color: var(--text);
}

.module-card-complete {
  border-color: rgba(34, 197, 94, 0.3);
}

.module-card-icon { font-size: 2rem; flex-shrink: 0; }
.module-card-body { flex: 1; }
.module-card-order { font-size: 0.7rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.1em; }
.module-card-title { font-size: 1rem; font-weight: 700; margin: 0.15rem 0 0.4rem; }
.module-card-desc { font-size: 0.83rem; color: var(--text-muted); line-height: 1.5; }
.module-card-footer {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 0.75rem;
  font-size: 0.78rem;
}

.module-lessons { color: var(--text-dim); }
.module-progress-wrap {
  flex: 1;
  height: 4px;
  background: var(--bg-elevated);
  border-radius: 99px;
  overflow: hidden;
}
.module-progress-bar {
  height: 100%;
  background: var(--accent);
  border-radius: 99px;
}
.module-pct { color: var(--text-muted); }
.text-success { color: var(--accent-success) !important; }

.home-footer {
  text-align: center;
  padding: 2rem 0;
  color: var(--text-dim);
  font-size: 0.85rem;
}

/* ─── Module Header ───────────────────────────────────────────────────────── */

.breadcrumb { color: var(--text-muted); font-size: 0.85rem; }
.breadcrumb:hover { color: var(--text); }

.breadcrumbs {
  font-size: 0.82rem;
  color: var(--text-muted);
  display: flex;
  align-items: center;
  gap: 0.4rem;
  margin-bottom: 1rem;
}

.breadcrumbs a { color: var(--text-muted); }
.breadcrumbs a:hover { color: var(--accent); }
.sep { color: var(--text-dim); }

.module-header {
  padding-bottom: 1.5rem;
  border-bottom: 1px solid var(--border);
  margin-bottom: 1.5rem;
}

.module-header-icon { font-size: 2.5rem; margin: 0.5rem 0; }
.module-header-order { font-size: 0.75rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: 0.1em; }
.module-header-title { font-size: 1.8rem; font-weight: 800; margin: 0.25rem 0 0.5rem; }
.module-header-desc { color: var(--text-muted); font-size: 1rem; margin-bottom: 1rem; }
.module-header-progress { max-width: 400px; }

/* ─── Lesson List ─────────────────────────────────────────────────────────── */

.lesson-list { display: flex; flex-direction: column; gap: 0.5rem; }

.lesson-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem 1.25rem;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  text-decoration: none;
  color: var(--text);
  transition: border-color 0.15s, background 0.15s;
}

.lesson-item:hover {
  border-color: var(--border-bright);
  background: var(--bg-elevated);
  text-decoration: none;
  color: var(--text);
}

.lesson-item-done { border-color: rgba(34, 197, 94, 0.25); }
.lesson-item-quiz { border-style: dashed; }

.lesson-check { font-size: 1.1rem; }
.lesson-check.done { color: var(--accent-success); }
.lesson-check.pending { color: var(--text-dim); }
.lesson-check.quiz { }

.lesson-item-body { flex: 1; }
.lesson-item-title { font-weight: 600; }
.lesson-item-meta { font-size: 0.78rem; color: var(--text-muted); margin-top: 0.15rem; }
.lesson-item-arrow { color: var(--text-dim); }

/* ─── Lesson View ─────────────────────────────────────────────────────────── */

.lesson-header {
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--border);
}

.lesson-meta-bar {
  display: flex;
  gap: 1rem;
  font-size: 0.8rem;
  color: var(--text-dim);
  margin: 0.5rem 0;
}

.lesson-title { font-size: 2rem; font-weight: 800; }

/* ─── Lesson Body ─────────────────────────────────────────────────────────── */

.lesson-body {
  line-height: 1.75;
  max-width: 760px;
}

.lesson-body h1 { font-size: 1.75rem; margin: 2rem 0 1rem; color: var(--text); }
.lesson-body h2 { font-size: 1.4rem; margin: 1.75rem 0 0.75rem; color: var(--text); border-bottom: 1px solid var(--border); padding-bottom: 0.25rem; }
.lesson-body h3 { font-size: 1.15rem; margin: 1.5rem 0 0.5rem; color: var(--text); }
.lesson-body h4 { font-size: 1rem; margin: 1.25rem 0 0.4rem; color: var(--text-muted); }

.lesson-body p { margin: 0 0 1rem; }
.lesson-body ul, .lesson-body ol { margin: 0 0 1rem 1.5rem; }
.lesson-body li { margin-bottom: 0.3rem; }

.lesson-body code {
  font-family: var(--font-mono);
  font-size: 0.875em;
  background: var(--bg-elevated);
  padding: 0.1em 0.4em;
  border-radius: 4px;
  color: var(--accent);
}

.lesson-body pre {
  background: #0d0d1a;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1.25rem;
  overflow-x: auto;
  margin: 1rem 0 1.5rem;
}

.lesson-body pre code {
  background: none;
  padding: 0;
  color: inherit;
  font-size: 0.875rem;
}

.lesson-body blockquote.callout {
  border-left: 3px solid var(--border-bright);
  background: var(--bg-elevated);
  padding: 0.75rem 1rem;
  border-radius: 0 var(--radius) var(--radius) 0;
  margin: 1rem 0;
  font-size: 0.9rem;
}

.lesson-body blockquote.callout-note { border-left-color: var(--accent-info); }
.lesson-body blockquote.callout-warning { border-left-color: var(--accent-warning); }
.lesson-body blockquote.callout-exercise { border-left-color: var(--accent-success); }
.lesson-body blockquote.callout-tip { border-left-color: var(--accent); }

.lesson-body table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0 1.5rem;
  font-size: 0.9rem;
}

.lesson-body th {
  background: var(--bg-elevated);
  color: var(--text);
  padding: 0.6rem 0.8rem;
  text-align: left;
  border-bottom: 2px solid var(--border-bright);
}

.lesson-body td {
  padding: 0.5rem 0.8rem;
  border-bottom: 1px solid var(--border);
}

.lesson-body tr:hover td { background: var(--bg-elevated); }

.lesson-body a { color: var(--accent); }

/* Mermaid diagrams */
.mermaid {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1.5rem;
  margin: 1.5rem 0;
  overflow-x: auto;
  text-align: center;
}

/* ─── Lesson Footer ───────────────────────────────────────────────────────── */

.lesson-footer {
  margin-top: 3rem;
  padding-top: 1.5rem;
  border-top: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.lesson-nav {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
}

/* Lesson sidebar lesson list */
.lesson-sidebar-lessons {
  display: none; /* shown as part of main sidebar on small screens, optional */
}

/* ─── Buttons ─────────────────────────────────────────────────────────────── */

.btn {
  display: inline-flex;
  align-items: center;
  padding: 0.55rem 1.1rem;
  border-radius: var(--radius);
  font-size: 0.9rem;
  font-weight: 600;
  border: none;
  cursor: pointer;
  text-decoration: none;
  transition: background 0.15s, border-color 0.15s;
}

.btn:hover { text-decoration: none; }

.btn-primary {
  background: var(--accent);
  color: #fff;
}
.btn-primary:hover { background: var(--accent-hover); color: #fff; }

.btn-outline {
  background: transparent;
  border: 1.5px solid var(--border-bright);
  color: var(--text-muted);
}
.btn-outline:hover { border-color: var(--accent); color: var(--accent); }

.btn-success {
  background: rgba(34, 197, 94, 0.15);
  border: 1.5px solid var(--accent-success);
  color: var(--accent-success);
}
.btn-success:hover { background: rgba(34, 197, 94, 0.25); }

.btn-ghost {
  background: transparent;
  color: var(--text-muted);
}
.btn-ghost:hover { color: var(--text); }

.btn-large { padding: 0.75rem 1.75rem; font-size: 1rem; }

/* ─── Quiz ────────────────────────────────────────────────────────────────── */

.quiz-header {
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--border);
}

.quiz-title { font-size: 1.8rem; font-weight: 800; margin: 0.5rem 0; }
.quiz-meta { color: var(--text-muted); font-size: 0.9rem; }

.quiz-best {
  display: inline-block;
  margin-top: 0.75rem;
  padding: 0.35rem 0.9rem;
  border-radius: 99px;
  font-size: 0.82rem;
  font-weight: 600;
}
.quiz-best-pass { background: rgba(34,197,94,0.15); color: var(--accent-success); }
.quiz-best-fail { background: rgba(233,69,96,0.15); color: var(--accent); }

.quiz-form { max-width: 700px; }

.quiz-question {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 1.25rem 1.5rem;
  margin-bottom: 1.25rem;
}

.question-text {
  font-weight: 600;
  font-size: 1rem;
  margin-bottom: 1rem;
  display: flex;
  gap: 0.75rem;
  align-items: flex-start;
}

.question-num {
  background: var(--accent);
  color: #fff;
  min-width: 1.5rem;
  height: 1.5rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 700;
  flex-shrink: 0;
  margin-top: 0.1rem;
}

.question-options { display: flex; flex-direction: column; gap: 0.5rem; }

.option-label {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 0.65rem 1rem;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  cursor: pointer;
  transition: border-color 0.15s, background 0.15s;
  font-size: 0.9rem;
}

.option-label:hover {
  border-color: var(--accent);
  background: var(--accent-dim);
}

.option-label input[type="radio"] { margin-top: 0.1rem; }
.option-label input[type="radio"]:checked { accent-color: var(--accent); }

.option-label:has(input:checked) {
  border-color: var(--accent);
  background: var(--accent-dim);
}

.quiz-submit { margin-top: 1.5rem; }

/* Quiz results */
.quiz-results { max-width: 700px; }

.quiz-score {
  text-align: center;
  padding: 2rem;
  border-radius: var(--radius-lg);
  margin-bottom: 2rem;
}
.score-pass { background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3); }
.score-fail { background: rgba(233,69,96,0.1); border: 1px solid rgba(233,69,96,0.3); }

.quiz-score-number { font-size: 3rem; font-weight: 900; }
.score-pass .quiz-score-number { color: var(--accent-success); }
.score-fail .quiz-score-number { color: var(--accent); }
.quiz-score-label { font-size: 1rem; color: var(--text-muted); margin-top: 0.5rem; }

.quiz-result-item {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 1.25rem;
  margin-bottom: 1rem;
}
.result-correct { border-left: 3px solid var(--accent-success); }
.result-wrong { border-left: 3px solid var(--accent); }

.result-question {
  display: flex;
  gap: 0.6rem;
  margin-bottom: 0.75rem;
  font-size: 0.95rem;
}
.result-icon { font-size: 1rem; flex-shrink: 0; }

.result-answers { display: flex; flex-direction: column; gap: 0.35rem; }

.result-option {
  display: flex;
  gap: 0.5rem;
  font-size: 0.85rem;
  padding: 0.4rem 0.6rem;
  border-radius: var(--radius);
  color: var(--text-muted);
}
.option-correct { background: rgba(34,197,94,0.1); color: var(--accent-success); }
.option-wrong { background: rgba(233,69,96,0.1); color: var(--accent); }
.option-marker { font-weight: 700; width: 1rem; flex-shrink: 0; }

.result-explanation {
  margin-top: 0.75rem;
  font-size: 0.83rem;
  color: var(--text-muted);
  padding: 0.6rem 0.75rem;
  background: var(--bg-elevated);
  border-radius: var(--radius);
}

.quiz-retry {
  display: flex;
  gap: 0.75rem;
  margin-top: 1.5rem;
}

/* ─── Responsive ──────────────────────────────────────────────────────────── */

@media (max-width: 768px) {
  .sidebar { display: none; }
  .main-content { margin-left: 0; padding: 1.25rem; }
  .module-grid { grid-template-columns: 1fr; }
  .lesson-nav { flex-direction: column; }
}
